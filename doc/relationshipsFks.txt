-- Link Auth to Roles
ALTER TABLE APP_USER 
ADD CONSTRAINT FK_USER_ROLE FOREIGN KEY (roleId) REFERENCES USER_ROLE(roleId);

-- Link Refresh Tokens to Users
ALTER TABLE REFRESH_TOKEN 
ADD CONSTRAINT FK_TOKEN_USER FOREIGN KEY (userId) REFERENCES APP_USER(userId);

-- Link Customer Profile to Auth User
ALTER TABLE CUSTOMER 
ADD CONSTRAINT FK_CUSTOMER_USER FOREIGN KEY (userId) REFERENCES APP_USER(userId);

-- Link Orders to Customer and Status
ALTER TABLE ORDERS 
ADD CONSTRAINT FK_ORDER_CUSTOMER FOREIGN KEY (customerId) REFERENCES CUSTOMER(customerId);

ALTER TABLE ORDERS 
ADD CONSTRAINT FK_ORDER_STATUS FOREIGN KEY (statusId) REFERENCES ORDER_STATUS_LOOKUP(statusId);

-- Link Order Items to Orders and Inventory
ALTER TABLE ORDER_ITEM 
ADD CONSTRAINT FK_ITEM_ORDER FOREIGN KEY (orderId) REFERENCES ORDERS(orderId);

ALTER TABLE ORDER_ITEM 
ADD CONSTRAINT FK_ITEM_INVENTORY FOREIGN KEY (itemId) REFERENCES INVENTORY_ITEM(itemId);

-- Link Pricing to Inventory
ALTER TABLE PRICING_CATALOG 
ADD CONSTRAINT FK_PRICING_INVENTORY FOREIGN KEY (itemId) REFERENCES INVENTORY_ITEM(itemId);
