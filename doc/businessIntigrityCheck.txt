-- Uniqueness
ALTER TABLE APP_USER ADD CONSTRAINT UQ_USER_EMAIL UNIQUE (email);
ALTER TABLE CUSTOMER ADD CONSTRAINT UQ_CUSTOMER_CONTACT UNIQUE (contactNo);
ALTER TABLE REFRESH_TOKEN ADD CONSTRAINT UQ_TOKEN_STR UNIQUE (token);
ALTER TABLE USER_ROLE ADD CONSTRAINT UQ_ROLE_NAME UNIQUE (roleName);
ALTER TABLE ORDER_STATUS_LOOKUP ADD CONSTRAINT UQ_STATUS_NAME UNIQUE (statusName);

-- Logic Checks
ALTER TABLE INVENTORY_ITEM ADD CONSTRAINT CHK_AVAIL_STOCK CHECK (availableStock >= 0);
ALTER TABLE INVENTORY_ITEM ADD CONSTRAINT CHK_RES_STOCK CHECK (reservedStock >= 0);
ALTER TABLE INVENTORY_ITEM ADD CONSTRAINT CHK_STOCK_CONSISTENCY CHECK (availableStock >= reservedStock);

ALTER TABLE ORDER_ITEM ADD CONSTRAINT CHK_QTY_POS CHECK (quantity > 0);
ALTER TABLE ORDER_ITEM ADD CONSTRAINT CHK_PRICE_NON_NEG CHECK (unitPrice >= 0);
ALTER TABLE PRICING_CATALOG ADD CONSTRAINT CHK_CATALOG_PRICE CHECK (unitPrice >= 0);
